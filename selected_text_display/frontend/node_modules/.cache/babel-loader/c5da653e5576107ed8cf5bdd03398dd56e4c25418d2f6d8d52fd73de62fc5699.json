{"ast":null,"code":"import _createClass from\"/Users/celenap/selected_text_display/English2ASLImage/selected_text_display/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/Users/celenap/selected_text_display/English2ASLImage/selected_text_display/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _inherits from\"/Users/celenap/selected_text_display/English2ASLImage/selected_text_display/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/celenap/selected_text_display/English2ASLImage/selected_text_display/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Streamlit,StreamlitComponentBase,withStreamlitConnection}from\"streamlit-component-lib\";import React from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var SelectedTextDisplay=/*#__PURE__*/function(_StreamlitComponentBa){_inherits(SelectedTextDisplay,_StreamlitComponentBa);var _super=_createSuper(SelectedTextDisplay);function SelectedTextDisplay(){var _this;_classCallCheck(this,SelectedTextDisplay);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedText:\"\",textColor:\"#000000\",allSelectedWords:['']};_this.render=function(){var placeholder;var txt=_this.props.args[\"txt\"];var textColor=_this.state.textColor;var words=txt.split(' ');var textWithSpans=words.map(function(word,index){var selected=_this.state.selectedText;_this.state.allSelectedWords.push(_this.state.selectedText);var wordnopunc=word.replace(/[^\\w\\s']/g,'');var borderColor=_this.state.allSelectedWords.includes(wordnopunc)?\"label label-warning\":\"\";return/*#__PURE__*/_jsxs(\"span\",{className:borderColor,children:[word,' ']},index);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"p\",{children:textWithSpans})}),/*#__PURE__*/_jsx(\"button\",{onClick:_this.displaySelectedText,children:\"Select Text\"})]});};_this.getSelectedText=function(){var _window$getSelection;var text=((_window$getSelection=window.getSelection())===null||_window$getSelection===void 0?void 0:_window$getSelection.toString())||\"\";return text;};_this.displaySelectedText=function(){var text=_this.getSelectedText();_this.setState(function(){return{selectedText:\"\".concat(text)};},function(){var newColor=_this.state.textColor===\"initial-color\"?\"new-color\":\"initial-color\";_this.setState({textColor:\"#AA4A44\"});Streamlit.setComponentValue(_this.state.selectedText);});};return _this;}return _createClass(SelectedTextDisplay);}(StreamlitComponentBase);export default withStreamlitConnection(SelectedTextDisplay);","map":{"version":3,"names":["Streamlit","StreamlitComponentBase","withStreamlitConnection","React","jsxs","_jsxs","jsx","_jsx","SelectedTextDisplay","_StreamlitComponentBa","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","selectedText","textColor","allSelectedWords","render","placeholder","txt","props","words","split","textWithSpans","map","word","index","selected","push","wordnopunc","replace","borderColor","includes","className","children","onClick","displaySelectedText","getSelectedText","_window$getSelection","text","window","getSelection","toString","setState","newColor","setComponentValue","_createClass"],"sources":["/Users/celenap/selected_text_display/English2ASLImage/selected_text_display/frontend/src/SelectedTextDisplay.tsx"],"sourcesContent":["import { Streamlit, StreamlitComponentBase, withStreamlitConnection } from \"streamlit-component-lib\";\nimport React, { ReactNode } from \"react\";\nimport CSS from 'csstype';\n\ninterface State {\n  selectedText: string;\n  textColor: string;\n  allSelectedWords: string[];\n}\n\n\nclass SelectedTextDisplay extends StreamlitComponentBase<State> {\n  public state = { selectedText: \"\", textColor: \"#000000\", allSelectedWords: ['']};\n\n  public render = (): ReactNode => {\n    var placeholder;\n    const txt = this.props.args[\"txt\"]\n    const {textColor} = this.state;\n    const words = txt.split(' ');\n    const textWithSpans = words.map((word: string, index: number) => {\n      const selected = this.state.selectedText;\n      this.state.allSelectedWords.push(this.state.selectedText);\n      const wordnopunc = word.replace(/[^\\w\\s']/g, '');\n      const borderColor = this.state.allSelectedWords.includes(wordnopunc) ? \"label label-warning\" : \"\";   \n      return (\n        <span key={index} className={borderColor}>\n          {word}{' '}\n        </span>\n      );\n    });\n    return (\n      <div>\n        <h3><p>{textWithSpans}</p></h3>\n        <button onClick={this.displaySelectedText}>Select Text</button>\n      </div>\n    );\n  };\n\n  private getSelectedText = (): string => {\n    const text = window.getSelection()?.toString() || \"\";\n    return text;\n  };\n\n  private displaySelectedText = (): void => {\n    const text = this.getSelectedText();\n    this.setState(\n      () => ({ selectedText: `${text}` }), \n      () => {\n        const newColor = this.state.textColor  === \"initial-color\" ? \"new-color\" : \"initial-color\";\n        this.setState({textColor: \"#AA4A44\"});\n        Streamlit.setComponentValue(this.state.selectedText);\n      }\n    );\n  };\n}\n\nexport default withStreamlitConnection(SelectedTextDisplay)\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}